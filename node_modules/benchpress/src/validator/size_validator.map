{"version":3,"sources":["size_validator.js"],"names":[],"mappings":"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","file":"/Users/tbosch/projects/angular2/modules/benchpress/src/validator/size_validator.js","sourcesContent":["import { List, ListWrapper, StringMap } from 'angular2/src/facade/collection';\nimport { bind, OpaqueToken } from 'angular2/di';\n\nimport { Validator } from '../validator';\nimport { MeasureValues } from '../measure_values';\n\n/**\n * A validator that waits for the sample to have a certain size.\n */\nexport class SizeValidator extends Validator {\n  // TODO(tbosch): use static values when our transpiler supports them\n  static get BINDINGS() { return _BINDINGS; }\n  // TODO(tbosch): use static values when our transpiler supports them\n  static get SAMPLE_SIZE() { return _SAMPLE_SIZE; }\n\n  _sampleSize:number;\n\n  constructor(size) {\n    super();\n    this._sampleSize = size;\n  }\n\n  describe():StringMap {\n    return {\n      'sampleSize': this._sampleSize\n    };\n  }\n\n  validate(completeSample:List<MeasureValues>):List<MeasureValues> {\n    if (completeSample.length >= this._sampleSize) {\n      return ListWrapper.slice(completeSample, completeSample.length - this._sampleSize, completeSample.length);\n    } else {\n      return null;\n    }\n  }\n\n}\n\nvar _SAMPLE_SIZE = new OpaqueToken('SizeValidator.sampleSize');\nvar _BINDINGS = [\n  bind(SizeValidator).toFactory(\n    (size) => new SizeValidator(size),\n    [_SAMPLE_SIZE]\n  ),\n  bind(_SAMPLE_SIZE).toValue(10)\n];"]}