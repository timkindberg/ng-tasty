{"version":3,"sources":["private_component_loader.js"],"names":[],"mappings":"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","file":"/Users/tbosch/projects/angular2/modules/angular2/src/core/compiler/private_component_loader.js","sourcesContent":["import {Compiler} from './compiler';\nimport {ShadowDomStrategy} from './shadow_dom_strategy';\nimport {EventManager} from 'angular2/src/core/events/event_manager';\nimport {DirectiveMetadataReader} from 'angular2/src/core/compiler/directive_metadata_reader';\nimport {Component} from 'angular2/src/core/annotations/annotations';\nimport {PrivateComponentLocation} from './private_component_location';\nimport {Type, stringify, BaseException} from 'angular2/src/facade/lang';\n\n\nexport class PrivateComponentLoader {\n  compiler:Compiler;\n  shadowDomStrategy:ShadowDomStrategy;\n  eventManager:EventManager;\n  directiveMetadataReader:DirectiveMetadataReader;\n\n  constructor(compiler:Compiler, shadowDomStrategy:ShadowDomStrategy,\n              eventManager:EventManager, directiveMetadataReader:DirectiveMetadataReader) {\n\n    this.compiler = compiler;\n    this.shadowDomStrategy = shadowDomStrategy;\n    this.eventManager = eventManager;\n    this.directiveMetadataReader = directiveMetadataReader;\n  }\n\n  load(type:Type, location:PrivateComponentLocation) {\n    var annotation = this.directiveMetadataReader.read(type).annotation;\n\n    if (!(annotation instanceof Component)) {\n      throw new BaseException(`Could not load '${stringify(type)}' because it is not a component.`);\n    }\n\n    return this.compiler.compile(type).then((componentProtoView) => {\n      location.createComponent(\n        type, annotation,\n        componentProtoView,\n        this.eventManager,\n        this.shadowDomStrategy);\n    });\n  }\n}\n"]}