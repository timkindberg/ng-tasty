"use strict";
Object.defineProperties(module.exports, {
  XHRImpl: {get: function() {
      return XHRImpl;
    }},
  __esModule: {value: true}
});
var $__rtts_95_assert_47_rtts_95_assert__,
    $__angular2_47_di__,
    $__angular2_47_src_47_facade_47_async__,
    $__xhr__;
var assert = ($__rtts_95_assert_47_rtts_95_assert__ = require("rtts_assert/rtts_assert"), $__rtts_95_assert_47_rtts_95_assert__ && $__rtts_95_assert_47_rtts_95_assert__.__esModule && $__rtts_95_assert_47_rtts_95_assert__ || {default: $__rtts_95_assert_47_rtts_95_assert__}).assert;
var Injectable = ($__angular2_47_di__ = require("angular2/di"), $__angular2_47_di__ && $__angular2_47_di__.__esModule && $__angular2_47_di__ || {default: $__angular2_47_di__}).Injectable;
var $__2 = ($__angular2_47_src_47_facade_47_async__ = require("angular2/src/facade/async"), $__angular2_47_src_47_facade_47_async__ && $__angular2_47_src_47_facade_47_async__.__esModule && $__angular2_47_src_47_facade_47_async__ || {default: $__angular2_47_src_47_facade_47_async__}),
    Promise = $__2.Promise,
    PromiseWrapper = $__2.PromiseWrapper;
var XHR = ($__xhr__ = require("./xhr"), $__xhr__ && $__xhr__.__esModule && $__xhr__ || {default: $__xhr__}).XHR;
var XHRImpl = function XHRImpl() {
  $traceurRuntime.superConstructor($XHRImpl).apply(this, arguments);
  ;
};
var $XHRImpl = XHRImpl;
($traceurRuntime.createClass)(XHRImpl, {get: function(url) {
    assert.argumentTypes(url, assert.type.string);
    var completer = PromiseWrapper.completer();
    var xhr = new XMLHttpRequest();
    xhr.open('GET', url, true);
    xhr.responseType = 'text';
    xhr.onload = function() {
      var status = xhr.status;
      if (200 <= status && status <= 300) {
        completer.resolve(xhr.responseText);
      } else {
        completer.reject(("Failed to load " + url));
      }
    };
    xhr.onerror = function() {
      completer.reject(("Failed to load " + url));
    };
    xhr.send();
    return assert.returnType((completer.promise), assert.genericType(Promise, assert.type.string));
  }}, {}, XHR);
Object.defineProperty(XHRImpl, "annotations", {get: function() {
    return [new Injectable()];
  }});
Object.defineProperty(XHRImpl.prototype.get, "parameters", {get: function() {
    return [[assert.type.string]];
  }});
//# sourceMappingURL=xhr_impl.es6.map

//# sourceMappingURL=./xhr_impl.map