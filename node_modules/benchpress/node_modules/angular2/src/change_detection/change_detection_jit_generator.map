{"version":3,"sources":["change_detection_jit_generator.es6"],"names":[],"mappings":"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","file":"/Users/tbosch/projects/angular2/modules/angular2/src/change_detection/change_detection_jit_generator.es6","sourcesContent":["import {isPresent, isBlank, BaseException, Type} from 'angular2/src/facade/lang';\nimport {List, ListWrapper, MapWrapper, StringMapWrapper} from 'angular2/src/facade/collection';\n\nimport {AbstractChangeDetector} from './abstract_change_detector';\nimport {ChangeDetectionUtil} from './change_detection_util';\n\nimport {\n  ProtoRecord,\n  RECORD_TYPE_SELF,\n  RECORD_TYPE_PROPERTY,\n  RECORD_TYPE_LOCAL,\n  RECORD_TYPE_INVOKE_METHOD,\n  RECORD_TYPE_CONST,\n  RECORD_TYPE_INVOKE_CLOSURE,\n  RECORD_TYPE_PRIMITIVE_OP,\n  RECORD_TYPE_KEYED_ACCESS,\n  RECORD_TYPE_PIPE,\n  RECORD_TYPE_BINDING_PIPE,\n  RECORD_TYPE_INTERPOLATE\n  } from './proto_record';\n\n/**\n * The code generator takes a list of proto records and creates a function/class\n * that \"emulates\" what the developer would write by hand to implement the same\n * kind of behaviour.\n *\n * For example: An expression `address.city` will result in the following class:\n *\n * var ChangeDetector0 = function ChangeDetector0(dispatcher, protos) {\n *   AbstractChangeDetector.call(this);\n *   this.dispatcher = dispatcher;\n *   this.protos = protos;\n *\n *   this.context = ChangeDetectionUtil.unitialized();\n *   this.address0 = ChangeDetectionUtil.unitialized();\n *   this.city1 = ChangeDetectionUtil.unitialized();\n * }\n * ChangeDetector0.prototype = Object.create(AbstractChangeDetector.prototype);\n *\n * ChangeDetector0.prototype.detectChangesInRecords = function(throwOnChange) {\n *   var address0;\n *   var city1;\n *   var change;\n *   var changes = null;\n *   var temp;\n *   var context = this.context;\n *\n *   address0 = context.address;\n *   if (address0 !== this.address0) {\n *     this.address0 = address0;\n *   }\n *\n *   city1 = address0.city;\n *   if (city1 !== this.city1) {\n *     changes = ChangeDetectionUtil.addRecord(changes,\n *       ChangeDetectionUtil.simpleChangeRecord(this.protos[1].bindingMemento, this.city1, city1));\n *     this.city1 = city1;\n *   }\n *\n *   if (changes.length > 0) {\n *     if(throwOnChange) ChangeDetectionUtil.throwOnChange(this.protos[1], changes[0]);\n *     this.dispatcher.onRecordChange('address.city', changes);\n *     changes = null;\n *   }\n * }\n *\n * ChangeDetector0.prototype.notifyOnAllChangesDone = function() {}\n *\n * ChangeDetector0.prototype.hydrate = function(context, locals) {\n *   this.context = context;\n *   this.locals = locals;\n * }\n *\n * ChangeDetector0.prototype.dehydrate = function(context) {\n *   this.context = ChangeDetectionUtil.unitialized();\n *   this.address0 = ChangeDetectionUtil.unitialized();\n *   this.city1 = ChangeDetectionUtil.unitialized();\n *   this.locals = null;\n * }\n *\n * ChangeDetector0.prototype.hydrated = function() {\n *   return this.context !== ChangeDetectionUtil.unitialized();\n * }\n *\n * return ChangeDetector0;\n *\n *\n * The only thing the generated class depends on is the super class AbstractChangeDetector.\n *\n * The implementation comprises two parts:\n * * ChangeDetectorJITGenerator has the logic of how everything fits together.\n * * template functions (e.g., constructorTemplate) define what code is generated.\n*/\n\nvar ABSTRACT_CHANGE_DETECTOR = \"AbstractChangeDetector\";\nvar UTIL = \"ChangeDetectionUtil\";\nvar DISPATCHER_ACCESSOR = \"this.dispatcher\";\nvar PIPE_REGISTRY_ACCESSOR = \"this.pipeRegistry\";\nvar PROTOS_ACCESSOR = \"this.protos\";\nvar MEMENTOS_ACCESSOR = \"this.directiveMementos\";\nvar CONTEXT_ACCESSOR = \"this.context\";\nvar CHANGE_LOCAL = \"change\";\nvar CHANGES_LOCAL = \"changes\";\nvar LOCALS_ACCESSOR = \"this.locals\";\nvar TEMP_LOCAL = \"temp\";\n\nfunction typeTemplate(type:string, cons:string, detectChanges:string,\n                      notifyOnAllChangesDone:string, setContext:string):string {\n  return `\n${cons}\n${detectChanges}\n${notifyOnAllChangesDone}\n${setContext};\n\nreturn function(dispatcher, pipeRegistry) {\n  return new ${type}(dispatcher, pipeRegistry, protos, directiveMementos);\n}\n`;\n}\n\nfunction constructorTemplate(type:string, fieldsDefinitions:string):string {\n  return `\nvar ${type} = function ${type}(dispatcher, pipeRegistry, protos, directiveMementos) {\n${ABSTRACT_CHANGE_DETECTOR}.call(this);\n${DISPATCHER_ACCESSOR} = dispatcher;\n${PIPE_REGISTRY_ACCESSOR} = pipeRegistry;\n${PROTOS_ACCESSOR} = protos;\n${MEMENTOS_ACCESSOR} = directiveMementos;\n${fieldsDefinitions}\n}\n\n${type}.prototype = Object.create(${ABSTRACT_CHANGE_DETECTOR}.prototype);\n`;\n}\n\nfunction pipeOnDestroyTemplate(pipeNames:List) {\n  return pipeNames.map((p) => `${p}.onDestroy()`).join(\"\\n\");\n}\n\nfunction hydrateTemplate(type:string, fieldsDefinitions:string, pipeOnDestroy:string):string {\n  return `\n${type}.prototype.hydrate = function(context, locals) {\n  ${CONTEXT_ACCESSOR} = context;\n  ${LOCALS_ACCESSOR} = locals;\n}\n${type}.prototype.dehydrate = function() {\n  ${pipeOnDestroy}\n  ${fieldsDefinitions}\n  ${LOCALS_ACCESSOR} = null;\n}\n${type}.prototype.hydrated = function() {\n  return ${CONTEXT_ACCESSOR} !== ${UTIL}.unitialized();\n}\n`;\n}\n\nfunction detectChangesTemplate(type:string, body:string):string {\n  return `\n${type}.prototype.detectChangesInRecords = function(throwOnChange) {\n  ${body}\n}\n`;\n}\n\nfunction notifyOnAllChangesDoneTemplate(type:string, body:string):string {\n  return `\n${type}.prototype.notifyOnAllChangesDone = function() {\n  ${body}\n}\n`;\n}\n\nfunction onAllChangesDoneTemplate(index:number):string {\n  return `${DISPATCHER_ACCESSOR}.onAllChangesDone(${MEMENTOS_ACCESSOR}[${index}]);`;\n}\n\n\nfunction bodyTemplate(localDefinitions:string, changeDefinitions:string, records:string):string {\n  return `\n${localDefinitions}\n${changeDefinitions}\nvar ${TEMP_LOCAL};\nvar ${CHANGE_LOCAL};\nvar ${CHANGES_LOCAL} = null;\n\ncontext = ${CONTEXT_ACCESSOR};\n${records}\n`;\n}\n\nfunction notifyTemplate(index:number):string{\n  return  `\nif (${CHANGES_LOCAL} && ${CHANGES_LOCAL}.length > 0) {\n  if(throwOnChange) ${UTIL}.throwOnChange(${PROTOS_ACCESSOR}[${index}], ${CHANGES_LOCAL}[0]);\n  ${DISPATCHER_ACCESSOR}.onRecordChange(${PROTOS_ACCESSOR}[${index}].directiveMemento, ${CHANGES_LOCAL});\n  ${CHANGES_LOCAL} = null;\n}\n`;\n}\n\nfunction pipeCheckTemplate(context:string, bindingPropagationConfig:string, pipe:string, pipeType:string,\n                                  value:string, change:string, addRecord:string, notify:string):string{\n  return `\nif (${pipe} === ${UTIL}.unitialized()) {\n  ${pipe} = ${PIPE_REGISTRY_ACCESSOR}.get('${pipeType}', ${context}, ${bindingPropagationConfig});\n} else if (!${pipe}.supports(${context})) {\n  ${pipe}.onDestroy();\n  ${pipe} = ${PIPE_REGISTRY_ACCESSOR}.get('${pipeType}', ${context}, ${bindingPropagationConfig});\n}\n\n${CHANGE_LOCAL} = ${pipe}.transform(${context});\nif (! ${UTIL}.noChangeMarker(${CHANGE_LOCAL})) {\n  ${value} = ${CHANGE_LOCAL};\n  ${change} = true;\n  ${addRecord}\n}\n${notify}\n`;\n}\n\nfunction referenceCheckTemplate(assignment, newValue, oldValue, change, addRecord, notify) {\n  return `\n${assignment}\nif (${newValue} !== ${oldValue} || (${newValue} !== ${newValue}) && (${oldValue} !== ${oldValue})) {\n  ${change} = true;\n  ${addRecord}\n  ${oldValue} = ${newValue};\n}\n${notify}\n`;\n}\n\nfunction assignmentTemplate(field:string, value:string) {\n  return `${field} = ${value};`;\n}\n\nfunction localDefinitionsTemplate(names:List):string {\n  return names.map((n) => `var ${n};`).join(\"\\n\");\n}\n\nfunction changeDefinitionsTemplate(names:List):string {\n  return names.map((n) => `var ${n} = false;`).join(\"\\n\");\n}\n\nfunction fieldDefinitionsTemplate(names:List):string {\n  return names.map((n) => `${n} = ${UTIL}.unitialized();`).join(\"\\n\");\n}\n\nfunction ifChangedGuardTemplate(changeNames:List, body:string):string {\n  var cond = changeNames.join(\" || \");\n  return `\nif (${cond}) {\n  ${body}\n}\n`;\n}\n\nfunction addSimpleChangeRecordTemplate(protoIndex:number, oldValue:string, newValue:string) {\n  return `${CHANGES_LOCAL} = ${UTIL}.addRecord(${CHANGES_LOCAL},\n    ${UTIL}.simpleChangeRecord(${PROTOS_ACCESSOR}[${protoIndex}].bindingMemento, ${oldValue}, ${newValue}));`;\n}\n\n\nexport class ChangeDetectorJITGenerator {\n  typeName:string;\n  records:List<ProtoRecord>;\n  directiveMementos:List;\n  localNames:List<String>;\n  changeNames:List<String>;\n  fieldNames:List<String>;\n  pipeNames:List<String>;\n\n  constructor(typeName:string, records:List<ProtoRecord>, directiveMementos:List) {\n    this.typeName = typeName;\n    this.records = records;\n    this.directiveMementos = directiveMementos;\n\n    this.localNames = this.getLocalNames(records);\n    this.changeNames = this.getChangeNames(this.localNames);\n    this.fieldNames = this.getFieldNames(this.localNames);\n    this.pipeNames = this.getPipeNames(this.localNames);\n  }\n\n  getLocalNames(records:List<ProtoRecord>):List<String> {\n    var index = 0;\n    var names = records.map((r) => {\n      var sanitizedName = r.name.replace(new RegExp(\"\\\\W\", \"g\"), '');\n      return `${sanitizedName}${index++}`\n    });\n    return [\"context\"].concat(names);\n  }\n\n  getChangeNames(localNames:List<String>):List<String> {\n    return localNames.map((n) => `change_${n}`);\n  }\n\n  getFieldNames(localNames:List<String>):List<String> {\n    return localNames.map((n) => `this.${n}`);\n  }\n\n  getPipeNames(localNames:List<String>):List<String> {\n    return localNames.map((n) => `this.${n}_pipe`);\n  }\n\n  generate():Function {\n    var text = typeTemplate(this.typeName, this.genConstructor(), this.genDetectChanges(),\n      this.genNotifyOnAllChangesDone(), this.genHydrate());\n    return new Function('AbstractChangeDetector', 'ChangeDetectionUtil', 'protos', 'directiveMementos', text)\n      (AbstractChangeDetector, ChangeDetectionUtil, this.records, this.directiveMementos);\n  }\n\n  genConstructor():string {\n    return constructorTemplate(this.typeName, this.genFieldDefinitions());\n  }\n\n  genHydrate():string {\n    return hydrateTemplate(this.typeName, this.genFieldDefinitions(),\n      pipeOnDestroyTemplate(this.getNonNullPipeNames()));\n  }\n\n  genFieldDefinitions() {\n    var fields = [];\n    fields = fields.concat(this.fieldNames);\n    fields = fields.concat(this.getNonNullPipeNames());\n    return fieldDefinitionsTemplate(fields);\n  }\n\n  getNonNullPipeNames():List<String> {\n    var pipes = [];\n    this.records.forEach((r) => {\n      if (r.mode === RECORD_TYPE_PIPE || r.mode === RECORD_TYPE_BINDING_PIPE) {\n        pipes.push(this.pipeNames[r.selfIndex]);\n      }\n    });\n    return pipes;\n  }\n\n  genDetectChanges():string {\n    var body = this.genBody();\n    return detectChangesTemplate(this.typeName, body);\n  }\n\n  genNotifyOnAllChangesDone():string {\n    var notifications = [];\n    var mementos = this.directiveMementos;\n\n    for (var i = mementos.length - 1; i >= 0; --i) {\n      var memento = mementos[i];\n      if (memento.notifyOnAllChangesDone) {\n        notifications.push(onAllChangesDoneTemplate(i));\n      }\n    }\n\n    return notifyOnAllChangesDoneTemplate(this.typeName, notifications.join(\";\\n\"));\n  }\n\n  genBody():string {\n    var rec = this.records.map((r) => this.genRecord(r)).join(\"\\n\");\n    return bodyTemplate(this.genLocalDefinitions(), this.genChangeDefinitions(), rec);\n  }\n\n  genLocalDefinitions():string {\n    return localDefinitionsTemplate(this.localNames);\n  }\n\n  genChangeDefinitions():string {\n    return changeDefinitionsTemplate(this.changeNames);\n  }\n\n  genRecord(r:ProtoRecord):string {\n    if (r.mode === RECORD_TYPE_PIPE || r.mode === RECORD_TYPE_BINDING_PIPE) {\n      return this.genPipeCheck (r);\n    } else {\n      return this.genReferenceCheck(r);\n    }\n  }\n\n  genPipeCheck(r:ProtoRecord):string {\n    var context = this.localNames[r.contextIndex];\n    var pipe = this.pipeNames[r.selfIndex];\n    var newValue = this.localNames[r.selfIndex];\n    var oldValue = this.fieldNames[r.selfIndex];\n    var change = this.changeNames[r.selfIndex];\n    var bpc = r.mode === RECORD_TYPE_BINDING_PIPE ? \"this.bindingPropagationConfig\" : \"null\";\n\n    var addRecord = addSimpleChangeRecordTemplate(r.selfIndex - 1, oldValue, newValue);\n    var notify = this.genNotify(r);\n\n    return pipeCheckTemplate(context, bpc, pipe, r.name, newValue, change, addRecord, notify);\n  }\n\n  genReferenceCheck(r:ProtoRecord):string {\n    var newValue = this.localNames[r.selfIndex];\n    var oldValue = this.fieldNames[r.selfIndex];\n    var change = this.changeNames[r.selfIndex];\n    var assignment = this.genUpdateCurrentValue(r);\n    var addRecord = addSimpleChangeRecordTemplate(r.selfIndex - 1, oldValue, newValue);\n    var notify = this.genNotify(r);\n\n    var check = referenceCheckTemplate(assignment, newValue, oldValue, change, r.lastInBinding ? addRecord : '', notify);\n    if (r.isPureFunction()) {\n      return this.ifChangedGuard(r, check);\n    } else {\n      return check;\n    }\n  }\n\n  genUpdateCurrentValue(r:ProtoRecord):string {\n    var context = this.localNames[r.contextIndex];\n    var newValue = this.localNames[r.selfIndex];\n    var args = this.genArgs(r);\n\n    switch (r.mode) {\n      case RECORD_TYPE_SELF:\n        return assignmentTemplate(newValue, context);\n\n      case RECORD_TYPE_CONST:\n        return `${newValue} = ${this.genLiteral(r.funcOrValue)}`;\n\n      case RECORD_TYPE_PROPERTY:\n        return assignmentTemplate(newValue, `${context}.${r.name}`);\n\n      case RECORD_TYPE_LOCAL:\n        return assignmentTemplate(newValue, `${LOCALS_ACCESSOR}.get('${r.name}')`);\n\n      case RECORD_TYPE_INVOKE_METHOD:\n        return assignmentTemplate(newValue, `${context}.${r.name}(${args})`);\n\n      case RECORD_TYPE_INVOKE_CLOSURE:\n        return assignmentTemplate(newValue, `${context}(${args})`);\n\n      case RECORD_TYPE_PRIMITIVE_OP:\n        return assignmentTemplate(newValue, `${UTIL}.${r.name}(${args})`);\n\n      case RECORD_TYPE_INTERPOLATE:\n        return assignmentTemplate(newValue, this.genInterpolation(r));\n\n      case RECORD_TYPE_KEYED_ACCESS:\n        var key = this.localNames[r.args[0]];\n        return assignmentTemplate(newValue, `${context}[${key}]`);\n\n      default:\n        throw new BaseException(`Unknown operation ${r.mode}`);\n    }\n  }\n\n  ifChangedGuard(r:ProtoRecord, body:string):string {\n    return ifChangedGuardTemplate(r.args.map((a) => this.changeNames[a]), body);\n  }\n\n  genInterpolation(r:ProtoRecord):string{\n    var res = \"\";\n    for (var i = 0; i < r.args.length; ++i) {\n      res += this.genLiteral(r.fixedArgs[i]);\n      res += \" + \";\n      res += this.localNames[r.args[i]];\n      res += \" + \";\n    }\n    res += this.genLiteral(r.fixedArgs[r.args.length]);\n    return res;\n  }\n\n  genLiteral(value):string {\n    return JSON.stringify(value);\n  }\n\n  genNotify(r):string{\n    return r.lastInDirective ? notifyTemplate(r.selfIndex - 1) : '';\n  }\n\n  genArgs(r:ProtoRecord):string {\n    return r.args.map((arg) => this.localNames[arg]).join(\", \");\n  }\n}\n\n\n\n\n"]}