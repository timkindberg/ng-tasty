{"version":3,"sources":["async.es6"],"names":[],"mappings":"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","file":"/Users/tbosch/projects/angular2/modules/angular2/src/facade/async.es6","sourcesContent":["import {int, global, isPresent} from 'angular2/src/facade/lang';\nimport {List} from 'angular2/src/facade/collection';\nimport Rx from 'rx/dist/rx.all';\n\nexport var Promise = global.Promise;\n\nexport class PromiseWrapper {\n  static resolve(obj):Promise {\n    return Promise.resolve(obj);\n  }\n\n  static reject(obj):Promise {\n    return Promise.reject(obj);\n  }\n\n  // Note: We can't rename this method into `catch`, as this is not a valid\n  // method name in Dart.\n  static catchError(promise:Promise, onError:Function):Promise {\n    return promise.catch(onError);\n  }\n\n  static all(promises:List):Promise {\n    if (promises.length == 0) return Promise.resolve([]);\n    return Promise.all(promises);\n  }\n\n  static then(promise:Promise, success:Function, rejection:Function):Promise {\n    return promise.then(success, rejection);\n  }\n\n  static completer() {\n    var resolve;\n    var reject;\n\n    var p = new Promise(function(res, rej) {\n      resolve = res;\n      reject = rej;\n    });\n\n    return {\n      promise: p,\n      resolve: resolve,\n      reject: reject\n    };\n  }\n\n  static setTimeout(fn:Function, millis:int) {\n    global.setTimeout(fn, millis);\n  }\n\n  static isPromise(maybePromise):boolean {\n    return maybePromise instanceof Promise;\n  }\n}\n\n\n/**\n * Use Rx.Observable but provides an adapter to make it work as specified here:\n * https://github.com/jhusain/observable-spec\n *\n * Once a reference implementation of the spec is available, switch to it.\n */\nexport var Observable = Rx.Observable;\nexport var ObservableController = Rx.Subject;\n\nexport class ObservableWrapper {\n  static createController():Rx.Subject {\n    return new Rx.Subject();\n  }\n\n  static createObservable(subject:Rx.Subject):Observable {\n    return subject;\n  }\n\n  static subscribe(observable:Observable, generatorOrOnNext, onThrow = null, onReturn = null) {\n    if (isPresent(generatorOrOnNext.next)) {\n      return observable.observeOn(Rx.Scheduler.timeout).subscribe(\n        (value) => generatorOrOnNext.next(value),\n        (error) => generatorOrOnNext.throw(error),\n        () => generatorOrOnNext.return()\n      );\n    } else {\n      return observable.observeOn(Rx.Scheduler.timeout).subscribe(generatorOrOnNext, onThrow, onReturn);\n    }\n  }\n\n  static callNext(subject:Rx.Subject, value:any) {\n    subject.onNext(value);\n  }\n\n  static callThrow(subject:Rx.Subject, error:any) {\n    subject.onError(error);\n  }\n\n  static callReturn(subject:Rx.Subject) {\n    subject.onCompleted();\n  }\n}"]}