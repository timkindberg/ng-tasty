{"version":3,"sources":["private_component_loader.js"],"names":[],"mappings":"AAAA,KAAO,EAAC,QAAO,CAAC,KAAO,aAAW,CAAC;AACnC,KAAO,EAAC,iBAAgB,CAAC,KAAO,wBAAsB,CAAC;AACvD,KAAO,EAAC,YAAW,CAAC,KAAO,yCAAuC,CAAC;AACnE,KAAO,EAAC,uBAAsB,CAAC,KAAO,uDAAqD,CAAC;AAC5F,KAAO,EAAC,SAAQ,CAAC,KAAO,4CAA0C,CAAC;AACnE,KAAO,EAAC,wBAAuB,CAAC,KAAO,+BAA6B,CAAC;AACrE,KAAO,EAAC,IAAG;AAAG,UAAQ;AAAG,cAAY,CAAC,KAAO,2BAAyB,CAAC;AAGvE,KAAO,MAAM,uBAAqB;AAMhC,YAAU,CAAE,QAAO,AAAS,CAAG,CAAA,iBAAgB,AAAkB,CACrD,CAAA,YAAW,AAAa,CAAG,CAAA,uBAAsB,AAAwB,CAAG;AAEtF,OAAG,SAAS,EAAI,SAAO,CAAC;AACxB,OAAG,kBAAkB,EAAI,kBAAgB,CAAC;AAC1C,OAAG,aAAa,EAAI,aAAW,CAAC;AAChC,OAAG,wBAAwB,EAAI,wBAAsB,CAAC;EACxD;AAAA,AAEA,KAAG,CAAE,IAAG,AAAK,CAAG,CAAA,QAAO,AAAyB,CAAG;AACjD,AAAI,MAAA,CAAA,UAAS,EAAI,CAAA,IAAG,wBAAwB,KAAK,AAAC,CAAC,IAAG,CAAC,WAAW,CAAC;AAEnE,OAAI,CAAC,CAAC,UAAS,WAAa,UAAQ,CAAC,CAAG;AACtC,UAAM,IAAI,cAAY,AAAC,CAAC,mBAAmB,SAAQ,AAAC,CAAC,IAAG,CAAC,kCAAkC,CAAC,CAAC;IAC/F;AAAA,AAEA,SAAO,CAAA,IAAG,SAAS,QAAQ,AAAC,CAAC,IAAG,CAAC,KAAK,AAAC,CAAC,CAAC,kBAAiB,IAAM;AAC9D,aAAO,gBAAgB,AAAC,CACtB,IAAG,CAAG,WAAS,CACf,mBAAiB,CACjB,CAAA,IAAG,aAAa,CAChB,CAAA,IAAG,kBAAkB,CAAC,CAAC;IAC3B,CAAC,CAAC;EACJ;AAAA,AACF;AAAA,AAvCA,KAAK,eAAe,AAAC,sCACb,EAAC,GAAE,CAAG,UAAS,AAAD,CAAG;AAAC,YAcH,QAAO,IAAqB,iBAAgB,IACxC,YAAW,IAA2B,uBAAsB,GAftC;EAAC,CAAC,CAAC,CAAC;AADrD,KAAK,eAAe,AAAC,qDACb,EAAC,GAAE,CAAG,UAAS,AAAD,CAAG;AAAC,YAuBd,IAAG,IAAY,wBAAuB,GAvBD;EAAC,CAAC,CAAC,CAAC;AAuCrD","file":"/Users/tbosch/projects/angular2/modules/angular2/src/core/compiler/private_component_loader.js","sourcesContent":["import {Compiler} from './compiler';\nimport {ShadowDomStrategy} from './shadow_dom_strategy';\nimport {EventManager} from 'angular2/src/core/events/event_manager';\nimport {DirectiveMetadataReader} from 'angular2/src/core/compiler/directive_metadata_reader';\nimport {Component} from 'angular2/src/core/annotations/annotations';\nimport {PrivateComponentLocation} from './private_component_location';\nimport {Type, stringify, BaseException} from 'angular2/src/facade/lang';\n\n\nexport class PrivateComponentLoader {\n  compiler:Compiler;\n  shadowDomStrategy:ShadowDomStrategy;\n  eventManager:EventManager;\n  directiveMetadataReader:DirectiveMetadataReader;\n\n  constructor(compiler:Compiler, shadowDomStrategy:ShadowDomStrategy,\n              eventManager:EventManager, directiveMetadataReader:DirectiveMetadataReader) {\n\n    this.compiler = compiler;\n    this.shadowDomStrategy = shadowDomStrategy;\n    this.eventManager = eventManager;\n    this.directiveMetadataReader = directiveMetadataReader;\n  }\n\n  load(type:Type, location:PrivateComponentLocation) {\n    var annotation = this.directiveMetadataReader.read(type).annotation;\n\n    if (!(annotation instanceof Component)) {\n      throw new BaseException(`Could not load '${stringify(type)}' because it is not a component.`);\n    }\n\n    return this.compiler.compile(type).then((componentProtoView) => {\n      location.createComponent(\n        type, annotation,\n        componentProtoView,\n        this.eventManager,\n        this.shadowDomStrategy);\n    });\n  }\n}\n"]}