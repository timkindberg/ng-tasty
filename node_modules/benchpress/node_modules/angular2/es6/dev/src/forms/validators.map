{"version":3,"sources":["validators.js"],"names":[],"mappings":"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","file":"/Users/tbosch/projects/angular2/modules/angular2/src/forms/validators.js","sourcesContent":["import {isBlank, isPresent} from 'angular2/src/facade/lang';\nimport {List, ListWrapper, StringMapWrapper} from 'angular2/src/facade/collection';\n\nimport * as modelModule from './model';\n\nexport class Validators {\n  static required(c:modelModule.Control) {\n    return isBlank(c.value) || c.value == \"\" ? {\"required\": true} : null;\n  }\n\n  static nullValidator(c:any) {\n    return null;\n  }\n\n  static compose(validators:List<Function>):Function {\n    return function (c:modelModule.Control) {\n      var res = ListWrapper.reduce(validators, (res, validator) => {\n        var errors = validator(c);\n        return isPresent(errors) ? StringMapWrapper.merge(res, errors) : res;\n      }, {});\n      return StringMapWrapper.isEmpty(res) ? null : res;\n    }\n  }\n\n  static group(c:modelModule.ControlGroup) {\n    var res = {};\n    StringMapWrapper.forEach(c.controls, (control, name) => {\n      if (c.contains(name) && isPresent(control.errors)) {\n        Validators._mergeErrors(control, res);\n      }\n    });\n    return StringMapWrapper.isEmpty(res) ? null : res;\n  }\n\n  static array(c:modelModule.ControlArray) {\n    var res = {};\n    ListWrapper.forEach(c.controls, (control) => {\n      if (isPresent(control.errors)) {\n        Validators._mergeErrors(control, res);\n      }\n    });\n    return StringMapWrapper.isEmpty(res) ? null : res;\n  }\n\n  static _mergeErrors(control, res) {\n    StringMapWrapper.forEach(control.errors, (value, error) => {\n      if (!StringMapWrapper.contains(res, error)) {\n        res[error] = [];\n      }\n      ListWrapper.push(res[error], control);\n    });\n  }\n}\n"]}